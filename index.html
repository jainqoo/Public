<iframe id="riveCanvas" style="border:0; width:100%; height:100%;"></iframe>

<script src="https://unpkg.com/@rive-app/canvas@0.7.22"></script>
<script>
  const riveCanvas = document.getElementById('riveCanvas').contentWindow.document;

  riveCanvas.open();
  riveCanvas.write(`
    <html>
    <body style="margin:0;">
      <canvas id="canvas" width="100%" height="100%"></canvas>
      <script src="https://unpkg.com/@rive-app/canvas@0.7.22"></script>
      <script>
        const canvas = document.getElementById('canvas');
        const rive = new Rive({
          src: 'https://jainqoo.github.io/Public/gyrosensortest.riv',
          canvas: canvas,
          autoplay: true,
        });

        window.addEventListener('deviceorientation', (event) => {
          const gamma = event.gamma;
          const beta = event.beta;

          // Parallax effect calculations (example values)
          const xOffset = gamma * 0.5;
          const yOffset = beta * 0.5;

          rive.renderer.canvas.style.transform = \`translate(\${xOffset}px, \${yOffset}px)\`;
        });
      </script>
    </body>
    </html>
  `);
  riveCanvas.close();
</script>
